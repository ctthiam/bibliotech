<!-- ============================================
     src/app/shared/notification-bell/notification-bell.component.html
     ============================================ -->
<div class="notification-bell" [class.active]="showDropdown">
  <button class="bell-button" (click)="toggleDropdown()">
    <span class="bell-icon">ðŸ””</span>
    <span class="bell-badge" *ngIf="unreadCount > 0">{{ unreadCount }}</span>
  </button>

  <div class="notification-dropdown" *ngIf="showDropdown">
    <div class="dropdown-header">
      <h3 class="dropdown-title">Notifications</h3>
      <button 
        *ngIf="unreadCount > 0"
        class="mark-all-btn" 
        (click)="markAllAsRead()">
        Tout marquer lu
      </button>
    </div>

    <div class="dropdown-body">
      <div *ngIf="loading" class="dropdown-loading">
        <div class="spinner-small"></div>
        <p>Chargement...</p>
      </div>

      <div *ngIf="!loading && notifications.length === 0" class="dropdown-empty">
        <span class="empty-icon">ðŸ“­</span>
        <p>Aucune notification</p>
      </div>

      <div class="notification-list" *ngIf="!loading && notifications.length > 0">
        <div 
          *ngFor="let notification of notifications"
          class="notification-item"
          [class.unread]="!notification.lu"
          (click)="markAsRead(notification, $event)">
          
          <div class="notification-icon" [class]="getTypeColor(notification.type)">
            {{ getTypeIcon(notification.type) }}
          </div>

          <div class="notification-content">
            <div class="notification-title">{{ notification.titre }}</div>
            <div class="notification-text">{{ notification.contenu }}</div>
            <div class="notification-time">{{ formatDate(notification.created_at) }}</div>
          </div>

          <div class="notification-indicator" *ngIf="!notification.lu"></div>
        </div>
      </div>
    </div>

    <div class="dropdown-footer">
      <a routerLink="/notifications" class="view-all-btn" (click)="closeDropdown()">
        Voir toutes les notifications â†’
      </a>
    </div>
  </div>

  <div 
    *ngIf="showDropdown" 
    class="notification-overlay"
    (click)="closeDropdown()">
  </div>
</div>