<!-- ============================================
     src/app/pages/admin/rapports/rapports.component.html
     ============================================ -->
<div class="rapports-container">
  <!-- Header -->
  <div class="page-header">
    <div class="header-content">
      <div class="header-text">
        <h1 class="page-title">
          <span class="title-icon">ğŸ“Š</span>
          Rapports & Exports
        </h1>
        <p class="page-subtitle">GÃ©nÃ©rez et tÃ©lÃ©chargez des rapports dÃ©taillÃ©s</p>
      </div>
    </div>
  </div>

  <!-- Filtres pour rapports avec pÃ©riode -->
  <div class="filters-card">
    <h3 class="filters-title">
      <span class="filters-icon">ğŸ”</span>
      Filtrer par pÃ©riode
    </h3>
    <div class="filters-grid">
      <div class="filter-group">
        <label class="filter-label">Mois</label>
        <select [(ngModel)]="moisSelectionne" class="filter-select">
          <option *ngFor="let m of mois" [value]="m.value">{{ m.label }}</option>
        </select>
      </div>
      <div class="filter-group">
        <label class="filter-label">AnnÃ©e</label>
        <select [(ngModel)]="anneeSelectionnee" class="filter-select">
          <option *ngFor="let a of annees" [value]="a">{{ a }}</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Rapports Admin -->
  <div class="rapports-section">
    <h2 class="section-title">
      <span class="section-icon">ğŸ‘¨â€ğŸ’¼</span>
      Rapports Administrateur
    </h2>

    <div class="rapports-grid">
      <!-- Rapport Mensuel -->
      <div class="rapport-card blue">
        <div class="rapport-icon">ğŸ“…</div>
        <div class="rapport-content">
          <h3 class="rapport-title">Rapport Mensuel</h3>
          <p class="rapport-description">
            Statistiques complÃ¨tes des emprunts du mois sÃ©lectionnÃ©
          </p>
          <ul class="rapport-features">
            <li>âœ“ Total des emprunts</li>
            <li>âœ“ Lecteurs actifs</li>
            <li>âœ“ Livres les plus empruntÃ©s</li>
          </ul>
        </div>
        <button 
          class="rapport-btn"
          (click)="telechargerRapportMensuel()"
          [disabled]="loading">
          <span *ngIf="!loading">ğŸ“¥ TÃ©lÃ©charger PDF</span>
          <span *ngIf="loading" class="spinner-inline"></span>
        </button>
      </div>

      <!-- Rapport Annuel -->
      <div class="rapport-card green">
        <div class="rapport-icon">ğŸ“ˆ</div>
        <div class="rapport-content">
          <h3 class="rapport-title">Rapport Annuel</h3>
          <p class="rapport-description">
            Bilan complet de l'annÃ©e avec graphiques et analyses
          </p>
          <ul class="rapport-features">
            <li>âœ“ Ã‰volution mensuelle</li>
            <li>âœ“ Top 10 livres de l'annÃ©e</li>
            <li>âœ“ Statistiques dÃ©taillÃ©es</li>
          </ul>
        </div>
        <button 
          class="rapport-btn"
          (click)="telechargerRapportAnnuel()"
          [disabled]="loading">
          <span *ngIf="!loading">ğŸ“¥ TÃ©lÃ©charger PDF</span>
          <span *ngIf="loading" class="spinner-inline"></span>
        </button>
      </div>

      <!-- Rapport Retards -->
      <div class="rapport-card orange">
        <div class="rapport-icon">âš ï¸</div>
        <div class="rapport-content">
          <h3 class="rapport-title">Retards & PÃ©nalitÃ©s</h3>
          <p class="rapport-description">
            Liste des emprunts en retard et pÃ©nalitÃ©s impayÃ©es
          </p>
          <ul class="rapport-features">
            <li>âœ“ Emprunts en retard</li>
            <li>âœ“ PÃ©nalitÃ©s impayÃ©es</li>
            <li>âœ“ Montants dÃ©taillÃ©s</li>
          </ul>
        </div>
        <button 
          class="rapport-btn"
          (click)="telechargerRapportRetards()"
          [disabled]="loading">
          <span *ngIf="!loading">ğŸ“¥ TÃ©lÃ©charger PDF</span>
          <span *ngIf="loading" class="spinner-inline"></span>
        </button>
      </div>
    </div>
  </div>

  <!-- Exports -->
  <div class="rapports-section">
    <h2 class="section-title">
      <span class="section-icon">ğŸ“¤</span>
      Exports de DonnÃ©es
    </h2>

    <div class="rapports-grid">
      <!-- Export Inventaire -->
      <div class="rapport-card purple">
        <div class="rapport-icon">ğŸ“š</div>
        <div class="rapport-content">
          <h3 class="rapport-title">Inventaire Complet</h3>
          <p class="rapport-description">
            Liste complÃ¨te de tous les livres et exemplaires
          </p>
          <ul class="rapport-features">
            <li>âœ“ Tous les livres</li>
            <li>âœ“ Stock et disponibilitÃ©</li>
            <li>âœ“ Format Excel</li>
          </ul>
        </div>
        <button 
          class="rapport-btn"
          (click)="exporterInventaire()"
          [disabled]="loading">
          <span *ngIf="!loading">ğŸ“Š Exporter Excel</span>
          <span *ngIf="loading" class="spinner-inline"></span>
        </button>
      </div>

      <!-- Export Emprunts CSV -->
      <div class="rapport-card pink">
        <div class="rapport-icon">ğŸ“‹</div>
        <div class="rapport-content">
          <h3 class="rapport-title">Liste des Emprunts</h3>
          <p class="rapport-description">
            Export de tous les emprunts au format CSV
          </p>
          <ul class="rapport-features">
            <li>âœ“ Tous les emprunts</li>
            <li>âœ“ Format universel CSV</li>
            <li>âœ“ Compatible Excel</li>
          </ul>
        </div>
        <button 
          class="rapport-btn"
          (click)="exporterEmpruntsCSV()"
          [disabled]="loading">
          <span *ngIf="!loading">ğŸ“„ Exporter CSV</span>
          <span *ngIf="loading" class="spinner-inline"></span>
        </button>
      </div>
    </div>
  </div>

  <!-- Info Section -->
  <div class="info-section">
    <h3 class="info-title">
      <span class="info-icon">ğŸ’¡</span>
      Ã€ propos des rapports
    </h3>
    <div class="info-grid">
      <div class="info-card">
        <span class="info-emoji">ğŸ“„</span>
        <h4>Format PDF</h4>
        <p>Les rapports sont gÃ©nÃ©rÃ©s au format PDF, prÃªts Ã  Ãªtre imprimÃ©s ou archivÃ©s.</p>
      </div>

      <div class="info-card">
        <span class="info-emoji">ğŸ“Š</span>
        <h4>Format Excel/CSV</h4>
        <p>Les exports de donnÃ©es sont disponibles en Excel ou CSV pour analyse avancÃ©e.</p>
      </div>

      <div class="info-card">
        <span class="info-emoji">âš¡</span>
        <h4>GÃ©nÃ©ration rapide</h4>
        <p>Les rapports sont gÃ©nÃ©rÃ©s en quelques secondes avec les donnÃ©es les plus rÃ©centes.</p>
      </div>

      <div class="info-card">
        <span class="info-emoji">ğŸ”’</span>
        <h4>SÃ©curisÃ©</h4>
        <p>Seuls les administrateurs et bibliothÃ©caires peuvent gÃ©nÃ©rer ces rapports.</p>
      </div>
    </div>
  </div>
</div>